<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Will You Be My Valentine?</title>
  <style>
    /* Basic styling for the Valentine card */
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: linear-gradient(135deg, #f8d9e6 0%, #fbe9f4 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .card {
      background-color: #ffffff;
      border-radius: 16px;
      padding: 40px 32px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      text-align: center;
      max-width: 500px;
    }

    /* Cute hearts row */
    .hearts {
      font-size: 36px;
      margin-bottom: 12px;
      color: #e91e63;
    }

    /* Styling for the teddy bear image */
    .teddy {
      width: 200px;
      margin: 0 auto 24px;
      display: block;
    }

    /* Layout for buttons */
    .buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    /* Animation for bouncing teddy after a "Yes" */
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    .teddy.animated {
      animation: bounce 1s infinite ease-in-out;
    }

    /* Optional pulse animation for the hearts row */
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    .hearts.animated {
      animation: pulse 2s infinite;
    }

    /* Options shown after the user clicks Yes */
    #afterYesOptions {
      margin-top: 24px;
      display: none;
    }
    #afterYesOptions button {
      background-color: #ffc1d6;
      color: #333;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      margin: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.2s;
    }
    #afterYesOptions button:hover {
      background-color: #ffadc9;
    }

    /* Slideshow control buttons */
    .slideshow-controls button {
      background-color: #ffc1d6;
      color: #333;
      padding: 8px 14px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.2s;
    }
    .slideshow-controls button:hover {
      background-color: #ffadc9;
    }

    /* Hearts confetti style */
    .heart {
      position: fixed;
      top: -30px;
      font-size: 24px;
      pointer-events: none;
      animation: fall linear forwards;
      opacity: 1;
    }
    @keyframes fall {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    /* Style for memory image */
    .memoryImg {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    #message {
      font-size: 26px;
      margin-bottom: 30px;
      color: #444;
    }

    button {
      font-size: 20px;
      padding: 12px 24px;
      margin: 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    #yesBtn {
      background-color: #e91e63;
      color: #fff;
    }

    #noBtn {
      background-color: #f2f2f2;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="card">
    <!-- Decorative hearts across the top -->
    <div class="hearts">‚ù§Ô∏è üíñ üíï üíó üíì üíû üíò üíù</div>
    <!-- Cute teddy bear image -->
    <img src="cute_teddy.png" alt="Cute Teddy Bear" class="teddy">
    <!-- The main message asking the user -->
    <div id="message">Will you be my Valentine?</div>
    <!-- Yes and No buttons -->
    <div class="buttons">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>
    <!-- Options shown after the user clicks Yes -->
    <div id="afterYesOptions">
      <!-- Countdown to next anniversary (20 May) will appear here -->
      <div id="countdown" style="margin-bottom:10px; font-size:16px; color:#555;"></div>
      <button id="hugBtn">Send a virtual hug</button>
      <button id="songBtn">Replay love song</button>
      <button id="quoteBtn">Get a romantic quote</button>
      <button id="slideshowBtn">View memories slideshow</button>
      <button id="activitiesBtn">Date ideas</button>
      <div id="optionMessage" style="margin-top:10px; font-size:18px; color:#c2185b;"></div>
    </div>
    <!-- Hidden audio element for the love song -->
    <audio id="loveSong" src="song.wav"></audio>

    <!-- Hidden container for the memories slideshow -->
    <div id="slideshowContainer" style="display:none; margin-top:20px;">
      <img id="slideImage" src="memory1.jpg" class="memoryImg" alt="Slideshow image">
      <div class="slideshow-controls" style="margin-top:10px; display:flex; justify-content:center; gap:10px;">
        <button id="prevSlide">‚óÄ Prev</button>
        <button id="nextSlide">Next ‚ñ∂</button>
      </div>
    </div>
  </div>

  <script>
    // Select elements
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const message = document.getElementById('message');

    // Phrases to show on the "No" button as it begs for a "Yes"
    const noTexts = [
      'Are you sure?',
      'Please say yes!',
      "Don't break my heart!",
      'Come on, say yes...',
      "I'm waiting for you ‚ù§"
    ];
    let noClickCount = 0;

    // When "Yes" is clicked, show a love message, animate teddy and hearts, hide Yes/No, and show extra options
    yesBtn.addEventListener('click', () => {
      // Update the main message to a romantic Icelandic phrase
      message.textContent = '√âg elska √æig me√∞ √∂llu m√≠nu hjarta. Gle√∞ilegan Valent√≠nusardag, √°stin m√≠n üíñ';
      // Add animation classes to teddy and hearts
      document.querySelector('.teddy').classList.add('animated');
      document.querySelector('.hearts').classList.add('animated');
      // Hide the original Yes/No buttons
      yesBtn.style.display = 'none';
      noBtn.style.display = 'none';
      // Show additional options
      document.getElementById('afterYesOptions').style.display = 'block';

      // Initialize and start the countdown to next anniversary
      updateCountdown();
      countdownInterval = setInterval(updateCountdown, 1000);

      // Start the love song automatically
      loveSong.currentTime = 0;
      loveSong.play();

      // Launch hearts confetti effect
      startConfetti();
    });

    // When "No" is clicked, change its text and enlarge the "Yes" button
    noBtn.addEventListener('click', () => {
      // Update the No button's text with begging phrases
      if (noClickCount < noTexts.length) {
        noBtn.textContent = noTexts[noClickCount];
      } else {
        // If phrases run out, repeat the last begging phrase
        noBtn.textContent = noTexts[noTexts.length - 1];
      }
      // Calculate new scale for the Yes button
      const scale = 1 + 0.2 * (noClickCount + 1);
      yesBtn.style.transform = `scale(${scale})`;
      // Increment the counter for subsequent clicks
      noClickCount++;
    });

    // Event handlers for extra options after "Yes"
    const hugBtn = document.getElementById('hugBtn');
    const songBtn = document.getElementById('songBtn');
    const quoteBtn = document.getElementById('quoteBtn');
    const slideshowBtn = document.getElementById('slideshowBtn');
    const activitiesBtn = document.getElementById('activitiesBtn');
    const optionMessage = document.getElementById('optionMessage');
    const loveSong = document.getElementById('loveSong');
    const countdownDiv = document.getElementById('countdown');
    const slideshowContainer = document.getElementById('slideshowContainer');
    const slideImage = document.getElementById('slideImage');
    const prevSlideBtn = document.getElementById('prevSlide');
    const nextSlideBtn = document.getElementById('nextSlide');

    // Array of memory images for the slideshow
    const memoryImages = [
      'memory1.jpg',
      'memory2.jpg',
      'memory3.jpg',
      'memory4.jpg',
      'memory5.jpg',
      'memory6.jpg',
      'memory7.jpg'
    ];
    let currentSlide = 0;
    let countdownInterval;
    // Interval for automatic slideshow
    let slideshowInterval;

    // Function to update countdown to next anniversary (20 May)
    function updateCountdown() {
      const now = new Date();
      let targetYear = now.getFullYear();
      let targetDate = new Date(targetYear, 4, 20); // May is month 4 (0-indexed)
      if (now > targetDate) {
        targetDate = new Date(targetYear + 1, 4, 20);
      }
      const diff = targetDate - now;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      countdownDiv.textContent = `Time until next anniversary: ${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    // Function to create a single heart for confetti effect
    function createHeart() {
      const heart = document.createElement('span');
      heart.className = 'heart';
      heart.textContent = 'üíñ';
      heart.style.left = Math.random() * 100 + 'vw';
      const duration = 3 + Math.random() * 2;
      heart.style.animationDuration = `${duration}s`;
      document.body.appendChild(heart);
      setTimeout(() => {
        heart.remove();
      }, duration * 1000);
    }

    // Function to start confetti hearts
    function startConfetti() {
      for (let i = 0; i < 30; i++) {
        setTimeout(createHeart, i * 300);
      }
    }

    // Function to start automatic slideshow
    function startSlideshow() {
      // Reset any existing interval
      stopSlideshow();
      slideshowInterval = setInterval(() => {
        currentSlide = (currentSlide + 1) % memoryImages.length;
        slideImage.src = memoryImages[currentSlide];
      }, 3000);
    }

    // Function to stop automatic slideshow
    function stopSlideshow() {
      if (slideshowInterval) {
        clearInterval(slideshowInterval);
        slideshowInterval = null;
      }
    }

    hugBtn.addEventListener('click', () => {
      // Hide the slideshow
      slideshowContainer.style.display = 'none';
      // Pause the love song
      loveSong.pause();
      // Stop automatic slideshow
      stopSlideshow();
      // Display hug message
      optionMessage.textContent = 'ü§ó Sending you a big virtual hug!';
    });
    songBtn.addEventListener('click', () => {
      // Hide slideshow
      slideshowContainer.style.display = 'none';
      // Stop the auto slideshow
      stopSlideshow();
      // Start the love song from the beginning
      loveSong.currentTime = 0;
      loveSong.play();
      optionMessage.textContent = "üéµ Playing your love song...";
    });
    quoteBtn.addEventListener('click', () => {
      // Hide slideshow
      slideshowContainer.style.display = 'none';
      // Stop the love song if playing
      loveSong.pause();
      // Stop automatic slideshow
      stopSlideshow();
      const quotes = [
        "Love looks not with the eyes, but with the mind. ‚Äì Shakespeare",
        "You are my sun, my moon, and all my stars. ‚Äì E.E. Cummings",
        "I love you more than there are stars in the sky."
      ];
      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
      optionMessage.textContent = randomQuote;
    });

    // Show memories slideshow when slideshowBtn is clicked
    slideshowBtn.addEventListener('click', () => {
      // Pause the love song
      loveSong.pause();
      // Hide option message text
      optionMessage.textContent = '';
      // Show slideshow container
      slideshowContainer.style.display = 'block';
      // Reset to the first slide
      currentSlide = 0;
      slideImage.src = memoryImages[currentSlide];
      // Start automatic slideshow
      startSlideshow();
    });

    // Navigate to previous slide
    prevSlideBtn.addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + memoryImages.length) % memoryImages.length;
      slideImage.src = memoryImages[currentSlide];
      // Restart automatic slideshow to reset the timer
      startSlideshow();
    });
    // Navigate to next slide
    nextSlideBtn.addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % memoryImages.length;
      slideImage.src = memoryImages[currentSlide];
      // Restart automatic slideshow to reset the timer
      startSlideshow();
    });

    // Show date ideas when activitiesBtn is clicked
    activitiesBtn.addEventListener('click', () => {
      // Pause any playing song
      loveSong.pause();
      // Hide the slideshow
      slideshowContainer.style.display = 'none';
      // Stop automatic slideshow
      stopSlideshow();
      // Provide some romantic date ideas in English with an Icelandic twist
      optionMessage.innerHTML = '<ul style="text-align:left; margin:10px 0; padding-left:20px; color:#e91e63;">' +
        '<li>Watch the Northern Lights together on a clear night</li>' +
        '<li>Relax in a geothermal spa like the Blue Lagoon or Sky Lagoon</li>' +
        '<li>Take a glacier hike or explore an ice cave on a guided tour</li>' +
        '<li>Walk behind a waterfall such as Seljalandsfoss</li>' +
        '<li>Enjoy a boat ride on the J√∂kuls√°rl√≥n glacier lagoon</li>' +
        '</ul>';
    });
  </script>
</body>
</html>